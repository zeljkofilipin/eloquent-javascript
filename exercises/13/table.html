<!-- from http://eloquentjavascript.net/code/#13.1 -->
<!doctype html>
<html>
  <head>
    <script src="code/mountains.js"></script>
    <script src="code/13_dom.js"></script>
    <style>
      /* Defines a cleaner look for tables */
      table  { border-collapse: collapse; }
      td, th { border: 1px solid black; padding: 3px 8px; }
      th     { text-align: left; }
    </style>
  </head>
  <body>
    <script>
      function buildTable(data) {
        var table = document.createElement("table");

        var tr = document.createElement("tr");
	      var keys = Object.keys(data[0]);
	      keys.forEach(function(key) {
          var th = document.createElement("th");
		      th.textContent = key;
          tr.appendChild(th);
	      });
        table.appendChild(tr);

	      data.forEach(function(mountain) {
          var tr = document.createElement("tr");
	        keys.forEach(function(key) {
            var td = document.createElement("td");
			      td.textContent = mountain[key];
			      if (typeof mountain[key] == "number")
				      td.style.textAlign = "right";
            tr.appendChild(td);
	        });
          table.appendChild(tr);
	      });

        return table;
      }
    
      document.body.appendChild(buildTable(MOUNTAINS));
    </script>
  </body>
<html>
