<!-- from http://eloquentjavascript.net/code/#18.2 -->
<!doctype html>
<script src="code/promise.js"></script>

<input type="text" id="field">
<div id="suggestions" style="cursor: pointer"></div>

<script>
  // Builds up an array with global variable names, like
  // 'alert', 'document', and 'scrollTo'
  var terms = [];
  for (var name in window)
    terms.push(name);

  // Your code here.
	document.querySelector('#field').addEventListener('input', function() {
		var field = this;
		var regexp = new RegExp(field.value)
		var suggestions = document.querySelector('#suggestions');
		suggestions.innerHTML = '';
		terms.forEach(function(term) {
			if (regexp.test(term)) {
				var div = document.createElement('div');
				div.innerHTML = term;
				div.addEventListener('click', function() {
					field.value = term;
				});
				suggestions.appendChild(div);
			}
		});
	});
</script>
